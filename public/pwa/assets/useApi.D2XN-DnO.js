import{u as e}from"./index.BcZTeLW-.js";import{r,b as t,w as a}from"./vendor.hA9YLfwd.js";function o(){const r=e();return{request:r.request,get:r.get,post:r.post,put:r.put,del:r.del,preload:r.preload,isLoading:r.isLoading,getError:r.getError,clearError:r.clearError}}function l(o,l={},s={}){const u=e(),n=r(null),c=r(null),i=r(!1);t(()=>`${o}_${JSON.stringify(l.value||l)}`);const d=async(e=null,r={})=>{const t=e||l.value||l,a={...s,...r};i.value=!0,c.value=null;try{const e=await u.get(o,t,a);return n.value=e,e}catch(d){throw c.value=d.message,d}finally{i.value=!1}};return!1!==s.autoFetch&&d(),!1!==s.watchParams&&"object"==typeof l&&void 0!==l.value&&a(l,()=>d(),{deep:!0}),{data:n,error:c,loading:i,execute:d,refresh:()=>d()}}export{o as a,l as u};
