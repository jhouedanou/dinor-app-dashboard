import{u as e,v as a,t,A as s,x as r,F as l,y as o,e as n,f as c,B as i,r as d,n as u,E as p,o as g}from"./vendor.hA9YLfwd.js";import{_ as m,b as y}from"./index.BcZTeLW-.js";const v={class:"pages-list"},f={key:0,class:"loading-state"},h={key:1,class:"error-state"},b={class:"error-icon"},k={class:"md3-body-large dinor-text-gray"},C={key:2,class:"empty-state"},L={class:"empty-icon"},x={key:3,class:"pages-grid"},P=["onClick"],w={class:"page-icon"},T={class:"page-content"},A={class:"page-title"},F={key:0,class:"page-excerpt"},I={class:"page-meta"},_={key:0,class:"template-badge"},z={key:1,class:"last-updated"},D={class:"page-arrow"};const E=m({name:"PagesList",setup(){const e=p(),a=d([]),t=d(!1),s=d(null),r=async()=>{t.value=!0,s.value=null;try{const e=await y.getPages();if(!e.success)throw new Error(e.message||"Failed to fetch pages");a.value=e.data}catch(e){s.value=e.message,console.error("Error fetching pages:",e)}finally{t.value=!1}};return u(()=>{r()}),{pages:a,loading:t,error:s,goToPage:a=>{if(a.url){const t=encodeURIComponent(a.url);e.push(`/web-embed?url=${t}`)}},retry:()=>{s.value=null,r()},getPageIconComponent:e=>{const a={about:"LucideInfo",contact:"LucideMail",privacy:"LucideShieldCheck",terms:"LucideGavel",faq:"LucideHelpCircle",default:"LucideFileText"};return a[e]||a.default},getTemplateLabel:e=>{const a={about:"À propos",contact:"Contact",privacy:"Confidentialité",terms:"Conditions",faq:"FAQ",default:"Page"};return a[e]||a.default},formatDate:e=>e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):""}}},[["render",function(d,u,p,m,y,E){const R=s("LucideAlertTriangle"),j=s("LucideBookOpen"),q=s("LucideChevronRight");return g(),e("div",v,[m.loading?(g(),e("div",f,u[1]||(u[1]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Chargement des pages...",-1)]))):m.error?(g(),e("div",h,[a("div",b,[t(R,{size:48})]),u[2]||(u[2]=a("h2",{class:"md3-title-large"},"Erreur de chargement",-1)),a("p",k,r(m.error),1),a("button",{onClick:u[0]||(u[0]=(...e)=>m.retry&&m.retry(...e)),class:"btn-secondary"},"Réessayer")])):m.loading||0!==m.pages.length?(g(),e("div",x,[(g(!0),e(l,null,o(m.pages,s=>(g(),e("article",{key:s.id,onClick:e=>m.goToPage(s),class:"page-card"},[a("div",w,[(g(),n(c(m.getPageIconComponent(s.template)),{size:24}))]),a("div",T,[a("h3",A,r(s.title),1),s.excerpt?(g(),e("p",F,r(s.excerpt),1)):i("",!0),a("div",I,[s.template?(g(),e("span",_,r(m.getTemplateLabel(s.template)),1)):i("",!0),s.updated_at?(g(),e("span",z," Mis à jour "+r(m.formatDate(s.updated_at)),1)):i("",!0)])]),a("div",D,[t(q,{size:20})])],8,P))),128))])):(g(),e("div",C,[a("div",L,[t(j,{size:48})]),u[3]||(u[3]=a("h2",{class:"md3-title-medium"},"Aucune page trouvée",-1)),u[4]||(u[4]=a("p",{class:"md3-body-medium dinor-text-gray"}," Aucune page n'est disponible pour le moment. ",-1))]))])}],["__scopeId","data-v-368e2e95"]]);export{E as default};
