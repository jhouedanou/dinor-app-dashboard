import{r as e,b as s,n as t,u as a,v as i,B as n,t as o,L as r,A as l,x as c,z as d,o as u,F as m,y as p,K as v,H as g,e as f,P as h,M as y,O as b,V as _,w as k,E as P}from"./vendor.hA9YLfwd.js";import{_ as w,D as S,n as z,L as F,A as T,d as C,u as D}from"./index.Bb9qWlR8.js";const E={class:"notification-button"},A=["disabled"],M=["disabled"];const j={class:"profile"},I={key:0,class:"loading-state"},N={key:1,class:"auth-required"},L={class:"auth-icon"},x={key:2,class:"profile-content"},V={class:"user-info-section"},R={class:"user-avatar"},q={class:"user-details"},$={class:"user-name"},U={class:"user-email"},O={key:0,class:"member-since"},B={class:"profile-navigation"},J=["onClick"],G={class:"profile-sections"},H={key:0,class:"section-content"},W={class:"section-header"},K={class:"filter-tabs"},X=["onClick"],Q={key:0,class:"favorites-list"},Y=["onClick"],Z={class:"favorite-image"},ee=["src","alt"],se={class:"favorite-type-badge"},te={class:"favorite-info"},ae={class:"favorite-title"},ie={class:"favorite-description"},ne={class:"favorite-meta"},oe={class:"favorite-date"},re={class:"favorite-stats"},le={class:"stat"},ce={class:"stat"},de=["onClick"],ue={key:1,class:"empty-favorites"},me={class:"empty-icon"},pe={key:1,class:"section-content"},ve={key:0,class:"loading-container"},ge={key:1,class:"predictions-dashboard"},fe={class:"predictions-overview"},he={class:"stats-grid"},ye={class:"stat-card total-predictions"},be={class:"stat-icon"},_e={class:"stat-content"},ke={class:"stat-value"},Pe={class:"stat-card total-points"},we={class:"stat-icon"},Se={class:"stat-content"},ze={class:"stat-value"},Fe={class:"stat-card accuracy"},Te={class:"stat-icon"},Ce={class:"stat-content"},De={class:"stat-value"},Ee={key:0,class:"stat-card ranking"},Ae={class:"stat-icon"},Me={class:"stat-content"},je={class:"stat-value"},Ie={class:"quick-actions"},Ne={class:"sub-tabs"},Le=["onClick"],xe={key:0,class:"tab-content"},Ve={key:0,class:"predictions-stats-overview"},Re={class:"stats-grid"},qe={class:"stat-card"},$e={class:"stat-icon"},Ue={class:"stat-info"},Oe={class:"stat-value"},Be={class:"stat-card"},Je={class:"stat-icon accuracy"},Ge={class:"stat-info"},He={class:"stat-value"},We={class:"stat-card"},Ke={class:"stat-icon points"},Xe={class:"stat-info"},Qe={class:"stat-value"},Ye={key:0,class:"stat-card"},Ze={class:"stat-icon ranking"},es={class:"stat-info"},ss={class:"stat-value"},ts={key:1,class:"recent-predictions-preview"},as={class:"section-header-with-action"},is={class:"subsection-title"},ns={class:"predictions-filter-mini"},os={class:"predictions-list compact"},rs={class:"prediction-status-indicator"},ls={class:"prediction-match"},cs={class:"teams"},ds={class:"team"},us={class:"team"},ms={class:"match-info"},ps={class:"predicted-score"},vs={key:1,class:"pending"},gs={class:"prediction-date"},fs={key:2,class:"all-predictions"},hs={class:"predictions-header"},ys={class:"subsection-title"},bs={class:"predictions-filters"},_s={class:"filter-chips"},ks={class:"predictions-list grouped"},Ps={class:"group-header"},ws={class:"group-date"},Ss={class:"group-count"},zs={class:"group-predictions"},Fs={class:"prediction-status-indicator"},Ts={class:"prediction-match"},Cs={class:"teams"},Ds={class:"team"},Es={class:"team"},As={class:"match-date"},Ms={class:"prediction-details"},js={class:"prediction-scores"},Is={class:"predicted"},Ns={class:"score highlight"},Ls={key:0,class:"actual"},xs={class:"score"},Vs={class:"prediction-result"},Rs={key:1,class:"pending"},qs={key:3,class:"empty-predictions"},$s={class:"empty-illustration"},Us={class:"empty-icon"},Os={class:"empty-actions"},Bs={key:1,class:"tab-content"},Js={class:"ranking-section"},Gs={class:"subsection-title"},Hs={key:0,class:"my-rank-card enhanced"},Ws={class:"rank-number"},Ks={class:"rank-info"},Xs={class:"rank-stats"},Qs={class:"stat-item"},Ys={class:"stat-item"},Zs={key:1,class:"progress-card"},et={class:"progress-info"},st={class:"progress-bar"},tt={class:"ranking-actions"},at={key:2,class:"tab-content"},it={class:"tournaments-section"},nt={key:0,class:"tournaments-list"},ot={class:"tournament-header"},rt={class:"tournament-info"},lt={key:0,class:"prize"},ct={class:"participants"},dt={class:"tournament-actions"},ut=["onClick","disabled"],mt=["onClick"],pt={key:1,class:"empty-tournaments"},vt={class:"empty-icon"},gt={key:2,class:"error-state"},ft={class:"error-icon"},ht={key:2,class:"section-content"},yt={class:"section-title"},bt={class:"form-section"},_t={class:"form-title"},kt={class:"form-description"},Pt={class:"form-section"},wt={class:"form-title"},St={class:"form-description"},zt={class:"form-section"},Ft={class:"info-grid"},Tt={class:"info-item"},Ct={class:"info-value"},Dt={key:3,class:"section-content"},Et={class:"form-section"},At={class:"form-field"},Mt={class:"form-actions"},jt=["disabled"],It={key:0},Nt={key:1},Lt={key:4,class:"section-content"},xt={class:"form-section"},Vt={class:"form-field"},Rt={class:"form-field"},qt={class:"form-field"},$t={class:"form-actions"},Ut=["disabled"],Ot={key:0},Bt={key:1},Jt={class:"form-section logout-section"},Gt={key:5,class:"section-content"},Ht={class:"legal-section"},Wt={class:"legal-links"},Kt={href:"/terms",class:"legal-link"},Xt={href:"/privacy",class:"legal-link"},Qt={href:"/cookies",class:"legal-link"},Yt={class:"form-section danger-section"},Zt={class:"form-field"},ea={class:"form-field"},sa={class:"checkbox-label"},ta={class:"form-actions"},aa=["disabled"],ia={key:0},na={key:1};const oa=w({name:"Profile",components:{AuthModal:T,NotificationButton:w({name:"NotificationButton",components:{DinorIcon:S},setup(){const a=e(!1),i=e({isSupported:!1,permission:"default",isInitialized:!1,hasServiceWorker:!1}),n=e(""),o=e(""),r=s(()=>{if(a.value)return"Chargement...";switch(i.value.permission){case"granted":return"Notifications activ√©es";case"denied":return"Notifications refus√©es";default:return"Activer notifications"}}),l=()=>{i.value=z.getStatus()},c=(e,s="info")=>{n.value=e,o.value=s,setTimeout(()=>{n.value="",o.value=""},3e3)};return t(()=>{l();const e=setInterval(l,1e3);return()=>{clearInterval(e)}}),{loading:a,notificationStatus:i,buttonText:r,statusMessage:n,statusType:o,toggleNotifications:async()=>{a.value=!0;try{if("granted"===i.value.permission)await z.unsubscribe(),c("Notifications d√©sactiv√©es","success");else{const e=await z.requestPermissionWithPrompt();"granted"===e?c("Notifications activ√©es avec succ√®s !","success"):"denied"===e?c("Permission refus√©e. Vous pouvez la r√©activer dans les param√®tres de votre navigateur.","warning"):c("Permission en attente. Veuillez r√©essayer.","info")}}catch(e){console.error("Erreur notifications:",e),c("Erreur lors de la configuration des notifications","error")}finally{a.value=!1,l()}},testNotification:async()=>{a.value=!0;try{await z.showLocalNotification("Test Dinor",{body:"Cette notification de test confirme que le syst√®me fonctionne correctement !",icon:"/pwa/icons/icon-192x192.png",tag:"test-notification"}),c("Notification de test envoy√©e !","success")}catch(e){console.error("Erreur test notification:",e),c("Erreur lors de l'envoi de la notification de test","error")}finally{a.value=!1}}}}},[["render",function(e,s,t,m,p,v){const g=l("DinorIcon");return u(),a("div",E,[i("button",{onClick:s[0]||(s[0]=(...e)=>m.toggleNotifications&&m.toggleNotifications(...e)),class:d(["btn","granted"===m.notificationStatus.permission?"btn-success":"btn-primary"]),disabled:!m.notificationStatus.isSupported||m.loading},[o(g,{name:"granted"===m.notificationStatus.permission?"notifications_active":"notifications",size:16},null,8,["name"]),r(" "+c(m.buttonText),1)],10,A),"granted"===m.notificationStatus.permission?(u(),a("button",{key:0,onClick:s[1]||(s[1]=(...e)=>m.testNotification&&m.testNotification(...e)),class:"btn btn-secondary",disabled:m.loading},[o(g,{name:"send",size:16}),s[2]||(s[2]=r(" Test "))],8,M)):n("",!0),m.statusMessage?(u(),a("div",{key:1,class:d(["status-message",m.statusType])},c(m.statusMessage),3)):n("",!0)])}],["__scopeId","data-v-862f9b39"]]),LanguageSwitcher:F,DinorIcon:S},setup(){const a=P(),i=C(),n=D();if(!i)return console.error("‚ùå [Profile] AuthStore non initialis√©"),{};const o=e(!1),r=e(!1),l=e([]),c=e("all"),d=e("favorites"),u=e(!1),m=e(null),p=e([]),v=e([]);e(!1);const g=e("my-predictions"),f=e([]),h=e([]),y=e("all"),b=e("all"),_=e([{key:"my-predictions",label:"Mes pr√©dictions",icon:"sports_soccer"},{key:"my-ranking",label:"Mon classement",icon:"leaderboard"},{key:"active-tournaments",label:"Tournois actifs",icon:"emoji_events"}]),w=e({name:"",loading:!1,message:"",success:!1}),S=e({currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,message:"",success:!1}),z=e({reason:"",confirm:!1,loading:!1,message:"",success:!1}),F=e([{key:"favorites",label:"Favoris",icon:"favorite"},{key:"predictions",label:"Pronostics",icon:"sports_soccer"},{key:"settings",label:"Param√®tres",icon:"settings"},{key:"account",label:"Compte",icon:"person"},{key:"security",label:"S√©curit√©",icon:"security"},{key:"legal",label:"L√©gal",icon:"gavel"}]),T=e([{key:"all",label:"Tout",icon:"apps"},{key:"recipe",label:"Recettes",icon:"restaurant"},{key:"tip",label:"Astuces",icon:"lightbulb"},{key:"event",label:"√âv√©nements",icon:"event"},{key:"dinor_tv",label:"Vid√©os",icon:"play_circle"}]),E=s(()=>l.value.length),A=s(()=>{const e={};return l.value.forEach(s=>{const t="dinor_tv"===s.type?"videos":`${s.type}s`;e[t]=(e[t]||0)+1}),e}),M=s(()=>"all"===c.value?l.value:l.value.filter(e=>e.type===c.value)),j=async()=>{if(null==i?void 0:i.isAuthenticated){o.value=!0;try{console.log("üîç [Profile] Chargement des favoris...");const e=await fetch("/api/test-favorites",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),s=await e.json();console.log("üîç [Profile] R√©ponse API favoris:",s),s.success&&(l.value=s.data,console.log("üîç [Profile] Favoris charg√©s:",l.value.length,"√©l√©ments"))}catch(e){console.error("‚ùå [Profile] Erreur lors du chargement des favoris:",e)}finally{o.value=!1}}},I=async()=>{var e;if(null==i?void 0:i.isAuthenticated){u.value=!0;try{console.log("üèÜ [Profile] Chargement des donn√©es de pronostics...");const t=`dinor_predictions_${null==(e=i.user)?void 0:e.id}`,a=localStorage.getItem(t);if(a)try{const e=JSON.parse(a);if(Date.now()-e.timestamp<3e5)return m.value=e.stats,p.value=e.recent,v.value=e.tournaments,u.value=!1,void console.log("üèÜ [Profile] Donn√©es charg√©es depuis le cache")}catch(s){localStorage.removeItem(t)}const[o,r,l]=await Promise.all([n.get("/leaderboard/my-stats"),n.get("/predictions/my-recent?limit=5"),n.get("/tournaments/my-tournaments")]);o.success&&(m.value=o.data,console.log("üèÜ [Profile] Stats utilisateur charg√©es:",m.value)),r.success&&(p.value=r.data,console.log("üèÜ [Profile] Pronostics r√©cents charg√©s:",p.value.length,"√©l√©ments")),l.success&&(v.value=l.data,console.log("üèÜ [Profile] Tournois utilisateur charg√©s:",v.value.length,"√©l√©ments"));const c={timestamp:Date.now(),stats:m.value,recent:p.value,tournaments:v.value};localStorage.setItem(t,JSON.stringify(c))}catch(t){console.error("‚ùå [Profile] Erreur lors du chargement des donn√©es de pronostics:",t),m.value=null,p.value=[],v.value=[]}finally{u.value=!1}}},N=async()=>{var e;if((null==i?void 0:i.isAuthenticated)&&!(h.value.length>0))try{const t=`dinor_all_predictions_${null==(e=i.user)?void 0:e.id}`,a=localStorage.getItem(t);if(a)try{const e=JSON.parse(a);if(Date.now()-e.timestamp<6e5)return h.value=e.data,void console.log("üèÜ [Profile] Toutes les pr√©dictions charg√©es depuis le cache")}catch(s){localStorage.removeItem(t)}const o=await n.get("/predictions");if(o.success){h.value=o.data;const e={timestamp:Date.now(),data:o.data};localStorage.setItem(t,JSON.stringify(e))}}catch(t){console.error("‚ùå [Profile] Erreur lors du chargement de toutes les pr√©dictions:",t)}},L=async()=>{if(null==i?void 0:i.isAuthenticated)try{const e=await n.get("/tournaments/featured");e.success&&(f.value=e.data.filter(e=>e.can_predict&&["registration_open","registration_closed","active"].includes(e.status)))}catch(e){console.error("‚ùå [Profile] Erreur lors du chargement des tournois actifs:",e)}},x=e=>{g.value=e,"my-predictions"===e&&0===h.value.length?N():"active-tournaments"===e&&0===f.value.length&&L()},V=e=>{if(!e)return"";try{const s=new Date(e);return isNaN(s.getTime())?"":s.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch(s){return console.warn("Erreur lors du formatage de la date:",s),""}},R=s(()=>{if(!h.value.length)return[];switch(y.value){case"calculated":return h.value.filter(e=>e.is_calculated);case"pending":return h.value.filter(e=>!e.is_calculated);case"won":return h.value.filter(e=>e.is_calculated&&e.points_earned>0);default:return h.value}}),q=s(()=>{const e={};return R.value.forEach(s=>{const t=new Date(s.football_match.match_date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});e[t]||(e[t]={date:t,predictions:[]}),e[t].predictions.push(s)}),Object.values(e).sort((e,s)=>{const t=new Date(e.predictions[0].football_match.match_date);return new Date(s.predictions[0].football_match.match_date)-t})});return k(()=>null==i?void 0:i.isAuthenticated,e=>{e?(j(),I()):(l.value=[],m.value=null,p.value=[])},{immediate:!0}),k(()=>d.value,e=>{"predictions"===e&&(null==i?void 0:i.isAuthenticated)&&!m.value&&I()}),t(()=>{var e,s;(null==i?void 0:i.isAuthenticated)&&(j(),I(),w.value.name=(null==(e=i.user)?void 0:e.name)||"",console.log("üîç [Profile] Donn√©es utilisateur:",i.user),console.log("üîç [Profile] Date cr√©ation:",null==(s=i.user)?void 0:s.created_at));const t=localStorage.getItem("dinor_predictions_filter"),a=localStorage.getItem("dinor_predictions_filter_mini");t&&(y.value=t),a&&(b.value=a)}),{authStore:i,loading:o,activeSection:d,showAuthModal:r,favorites:l,selectedFilter:c,favoriteOptions:T,filteredFavorites:M,loadFavorites:j,removeFavorite:async e=>{if(confirm("√ätes-vous s√ªr de vouloir retirer cet √©l√©ment de vos favoris ?"))try{(await n.request(`/favorites/${e.id}`,{method:"DELETE"})).success&&(l.value=l.value.filter(s=>s.id!==e.id))}catch(s){console.error("Erreur lors de la suppression du favori:",s),alert("Erreur lors de la suppression du favori")}},goToContent:e=>{const s={recipe:`/recipe/${e.content.id}`,tip:`/tip/${e.content.id}`,event:`/event/${e.content.id}`,dinor_tv:"/dinor-tv"}[e.type];s&&a.push(s)},profileSections:F,filterTabs:T,totalFavorites:E,favoritesStats:A,formatMemberSince:e=>{if(!e)return"Date inconnue";try{const s=new Date(e);return isNaN(s.getTime())?"Date inconnue":s.toLocaleDateString("fr-FR",{year:"numeric",month:"long"})}catch(s){return console.warn("Erreur lors du formatage de la date membre:",s),"Date inconnue"}},handleImageError:e=>{e.target.src="/images/default-content.jpg"},usernameForm:w,passwordForm:S,deletionForm:z,updateUsername:async()=>{var e,s,t,a,o;w.value.loading=!0,w.value.message="";try{console.log("üìù [Profile] Mise √† jour du nom:",{name:w.value.name});const e=await n.put("/profile/name",{name:w.value.name});if(console.log("‚úÖ [Profile] R√©ponse mise √† jour nom:",e),e.success){w.value.success=!0,w.value.message="Nom d'utilisateur mis √† jour avec succ√®s";const s={...i.user,name:e.data.name};i.setUser(s),w.value.name=""}}catch(r){if(console.error("‚ùå [Profile] Erreur mise √† jour nom:",r),console.error("‚ùå [Profile] Donn√©es d'erreur:",null==(e=r.response)?void 0:e.data),w.value.success=!1,null==(t=null==(s=r.response)?void 0:s.data)?void 0:t.errors){const e=r.response.data.errors;e.name&&e.name.length>0?w.value.message=e.name[0]:w.value.message="Erreur de validation: "+Object.values(e).flat().join(", ")}else w.value.message=(null==(o=null==(a=r.response)?void 0:a.data)?void 0:o.message)||r.message||"Erreur lors de la mise √† jour"}finally{w.value.loading=!1}},updatePassword:async()=>{var e,s,t,a,i;if(S.value.newPassword!==S.value.confirmPassword)return S.value.success=!1,void(S.value.message="Les mots de passe ne correspondent pas");S.value.loading=!0,S.value.message="";try{console.log("üîê [Profile] Mise √† jour du mot de passe");const e=await n.put("/profile/password",{current_password:S.value.currentPassword,new_password:S.value.newPassword,new_password_confirmation:S.value.confirmPassword});console.log("‚úÖ [Profile] R√©ponse mise √† jour mdp:",e),e.success&&(S.value.success=!0,S.value.message="Mot de passe mis √† jour avec succ√®s",S.value.currentPassword="",S.value.newPassword="",S.value.confirmPassword="")}catch(o){if(console.error("‚ùå [Profile] Erreur mise √† jour mdp:",o),console.error("‚ùå [Profile] Donn√©es d'erreur:",null==(e=o.response)?void 0:e.data),S.value.success=!1,null==(t=null==(s=o.response)?void 0:s.data)?void 0:t.errors){const e=o.response.data.errors;e.current_password&&e.current_password.length>0?S.value.message=e.current_password[0]:e.new_password&&e.new_password.length>0?S.value.message=e.new_password[0]:S.value.message="Erreur de validation: "+Object.values(e).flat().join(", ")}else S.value.message=(null==(i=null==(a=o.response)?void 0:a.data)?void 0:i.message)||o.message||"Erreur lors de la mise √† jour"}finally{S.value.loading=!1}},requestDataDeletion:async()=>{var e,s;if(confirm("√ätes-vous absolument s√ªr de vouloir demander la suppression de toutes vos donn√©es ? Cette action est irr√©versible.")){z.value.loading=!0,z.value.message="";try{const e=await n.request("/profile/request-deletion",{method:"POST",body:{reason:z.value.reason,confirm:z.value.confirm}});e.success&&(z.value.success=!0,z.value.message=e.message,z.value.reason="",z.value.confirm=!1)}catch(t){z.value.success=!1,z.value.message=(null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)||"Erreur lors de la demande"}finally{z.value.loading=!1}}},handleLogout:async()=>{if(confirm("√ätes-vous s√ªr de vouloir vous d√©connecter ?")){console.log("üëã [Profile] D√©connexion utilisateur");try{await i.logout(),a.push("/")}catch(e){console.error("‚ùå [Profile] Erreur lors de la d√©connexion:",e)}}},openTournament:e=>{console.log("üèÜ [Profile] Ouverture du tournoi:",e.name),a.push("/predictions/tournaments")},openTournamentModal:e=>{console.log("üèÜ [Profile] Ouverture modale tournoi:",e.name),a.push("/predictions/tournaments")},predictionsLoading:u,userPredictionsStats:m,recentPredictions:p,userTournaments:v,predictionsTabs:_,activePredictionsTab:g,activeTournaments:f,userAllPredictions:h,predictionsFilter:y,predictionsFilterMini:b,formatRelativeTime:e=>{const s=new Date,t=new Date(e),a=Math.floor((s-t)/36e5);if(a<1)return"Il y a moins d'une heure";if(a<24)return`Il y a ${a}h`;if(a<48)return"Hier";const i=Math.floor(a/24);return i<7?`Il y a ${i} jour${i>1?"s":""}`:V(e)},formatTime:e=>new Date(e).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),getFilteredRecentPredictions:()=>{const e=p.value.slice(0,5);return"all"===b.value?e:"pending"===b.value?e.filter(e=>!e.is_calculated):"calculated"===b.value?e.filter(e=>e.is_calculated):e},getPredictionsCountByStatus:e=>"pending"===e?h.value.filter(e=>!e.is_calculated).length:"calculated"===e?h.value.filter(e=>e.is_calculated).length:"won"===e?h.value.filter(e=>e.is_calculated&&e.points_earned>0).length:h.value.length,getProgressPercentage:()=>{var e;if(!(null==(e=m.value)?void 0:e.points_to_next_rank))return 0;const s=m.value.total_points||0,t=m.value.points_to_next_rank||100;return Math.min(100,s/(s+t)*100)},groupedPredictions:q,filteredPredictions:R,loadPredictionsData:I,loadAllUserPredictions:N,loadActiveTournaments:L,switchPredictionsTab:x,registerToTournament:async e=>{console.log("üèÜ [Profile] Inscription au tournoi:",e.name);try{(await n.post(`/tournaments/${e.id}/register`)).success&&(e.user_is_participant=!0,e.can_register=!1)}catch(s){console.error("‚ùå [Profile] Erreur inscription tournoi:",s)}},goToPredictions:e=>{console.log("üèÜ [Profile] Aller aux pr√©dictions:",(null==e?void 0:e.name)||"global"),a.push("/predictions")},goToLeaderboard:()=>{console.log("üèÜ [Profile] Aller au classement"),x("my-ranking")},getPointsClass:e=>e>0?"points-positive":0===e?"points-neutral":"points-negative",getTournamentStatusLabel:e=>({registration_open:"Inscriptions ouvertes",registration_closed:"Inscriptions ferm√©es",active:"En cours",finished:"Termin√©",cancelled:"Annul√©"}[e]||e),formatPrize:(e,s="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:s,minimumFractionDigits:0}).format(e),getRankClass:e=>e?1===e?"rank-gold":2===e?"rank-silver":3===e?"rank-bronze":e<=10?"rank-top10":"":"",formatDate:V,getTypeIcon:e=>({recipe:"restaurant",tip:"lightbulb",event:"event",dinor_tv:"play_circle"}[e]||"star"),getDefaultImage:e=>({recipe:"/images/default-recipe.jpg",tip:"/images/default-tip.jpg",event:"/images/default-event.jpg",dinor_tv:"/images/default-video.jpg"}[e]||"/images/default-content.jpg"),getShortDescription:e=>{if(!e)return"";const s=e.replace(/<[^>]*>/g,"");return s.length>100?s.substring(0,100)+"...":s},getEmptyMessage:()=>({all:"Aucun favori pour le moment",recipe:"Aucune recette favorite",tip:"Aucune astuce favorite",event:"Aucun √©v√©nement favori",dinor_tv:"Aucune vid√©o favorite"}[c.value]||"Aucun favori"),getEmptyDescription:()=>({all:"Ajoutez du contenu √† vos favoris en cliquant sur l'ic√¥ne c≈ìur",recipe:"Parcourez les recettes et ajoutez vos pr√©f√©r√©es √† vos favoris",tip:"D√©couvrez des astuces utiles et sauvegardez-les",event:"Trouvez des √©v√©nements int√©ressants et ajoutez-les √† vos favoris",dinor_tv:"Regardez des vid√©os et ajoutez vos pr√©f√©r√©es √† vos favoris"}[c.value]||""),getExploreLink:()=>({all:"/",recipe:"/recipes",tip:"/tips",event:"/events",dinor_tv:"/dinor-tv"}[c.value]||"/")}}},[["render",function(e,s,t,k,P,w){var S,z,F,T;const C=l("DinorIcon"),D=l("router-link"),E=l("LanguageSwitcher"),A=l("NotificationButton"),M=l("AuthModal");return u(),a("div",j,[k.loading?(u(),a("div",I,s[29]||(s[29]=[i("div",{class:"loading-spinner"},null,-1),i("p",null,"Chargement du profil...",-1)]))):(null==(S=k.authStore)?void 0:S.isAuthenticated)?(u(),a("div",x,[i("div",V,[i("div",R,[o(C,{name:"person",size:32})]),i("div",q,[i("h1",$,c(k.authStore.userName),1),i("p",U,c(null==(z=k.authStore.user)?void 0:z.email),1),(null==(F=k.authStore.user)?void 0:F.created_at)?(u(),a("p",O,"Membre depuis "+c(k.formatMemberSince(k.authStore.user.created_at)),1)):n("",!0)])]),i("div",B,[(u(!0),a(m,null,p(k.profileSections,e=>(u(),a("button",{key:e.key,onClick:s=>k.activeSection=e.key,class:d(["nav-button",{active:k.activeSection===e.key}])},[o(C,{name:e.icon,size:20},null,8,["name"]),i("span",null,c(e.label),1)],10,J))),128))]),i("div",G,["favorites"===k.activeSection?(u(),a("div",H,[i("div",W,[s[32]||(s[32]=i("h2",{class:"section-title"},"Mes Favoris",-1)),i("div",K,[(u(!0),a(m,null,p(k.filterTabs,e=>(u(),a("button",{key:e.key,onClick:s=>k.selectedFilter=e.key,class:d(["filter-tab",{active:k.selectedFilter===e.key}])},[o(C,{name:e.icon,size:18},null,8,["name"]),i("span",null,c(e.label),1)],10,X))),128))])]),k.filteredFavorites.length?(u(),a("div",Q,[(u(!0),a(m,null,p(k.filteredFavorites,e=>(u(),a("div",{key:e.id,onClick:s=>k.goToContent(e),class:"favorite-item"},[i("div",Z,[i("img",{src:e.content.image||k.getDefaultImage(e.type),alt:e.content.title,onError:s[1]||(s[1]=(...e)=>k.handleImageError&&k.handleImageError(...e))},null,40,ee),i("div",se,[o(C,{name:k.getTypeIcon(e.type),size:16},null,8,["name"])])]),i("div",te,[i("h3",ae,c(e.content.title),1),i("p",ie,c(k.getShortDescription(e.content.description)),1),i("div",ne,[i("span",oe," Ajout√© "+c(k.formatDate(e.favorited_at)),1),i("div",re,[i("span",le,[o(C,{name:"favorite",size:16}),r(" "+c(e.content.likes_count||0),1)]),i("span",ce,[o(C,{name:"comment",size:16}),r(" "+c(e.content.comments_count||0),1)])])])]),i("button",{onClick:v(s=>k.removeFavorite(e),["stop"]),class:"remove-favorite",title:"Retirer des favoris"},[o(C,{name:"close",size:16})],8,de)],8,Y))),128))])):(u(),a("div",ue,[i("div",me,[o(C,{name:"favorite_border",size:48})]),i("h3",null,c(k.getEmptyMessage()),1),i("p",null,c(k.getEmptyDescription()),1),o(D,{to:k.getExploreLink(),class:"btn-secondary"},{default:g(()=>s[33]||(s[33]=[r(" D√©couvrir du contenu ")])),_:1,__:[33]},8,["to"])]))])):n("",!0),"predictions"===k.activeSection?(u(),a("div",pe,[s[67]||(s[67]=i("h2",{class:"section-title"},"Mes Pronostics",-1)),k.predictionsLoading?(u(),a("div",ve,s[34]||(s[34]=[i("div",{class:"md3-circular-progress"},null,-1),i("p",null,"Chargement de vos statistiques...",-1)]))):k.userPredictionsStats?(u(),a("div",ge,[i("div",fe,[i("div",he,[i("div",ye,[i("div",be,[o(C,{name:"target",size:24})]),i("div",_e,[i("span",ke,c(k.userPredictionsStats.total_predictions),1),s[35]||(s[35]=i("span",{class:"stat-label"},"Total pr√©dictions",-1))])]),i("div",Pe,[i("div",we,[o(C,{name:"trophy",size:24})]),i("div",Se,[i("span",ze,c(k.userPredictionsStats.total_points),1),s[36]||(s[36]=i("span",{class:"stat-label"},"Points gagn√©s",-1))])]),i("div",Fe,[i("div",Te,[o(C,{name:"target",size:24})]),i("div",Ce,[i("span",De,c(k.userPredictionsStats.accuracy_percentage)+"%",1),s[37]||(s[37]=i("span",{class:"stat-label"},"Pr√©cision",-1))])]),k.userPredictionsStats.current_rank?(u(),a("div",Ee,[i("div",Ae,[o(C,{name:"activity",size:24})]),i("div",Me,[i("span",je,"#"+c(k.userPredictionsStats.current_rank),1),s[38]||(s[38]=i("span",{class:"stat-label"},"Classement",-1))])])):n("",!0)]),i("div",Ie,[i("button",{onClick:s[2]||(s[2]=(...e)=>k.goToPredictions&&k.goToPredictions(...e)),class:"action-button primary"},[o(C,{name:"add",size:18}),s[39]||(s[39]=i("span",null,"Faire un pronostic",-1))]),i("button",{onClick:s[3]||(s[3]=e=>k.switchPredictionsTab("my-ranking")),class:"action-button secondary"},[o(C,{name:"activity",size:18}),s[40]||(s[40]=i("span",null,"Voir le classement",-1))]),i("button",{onClick:s[4]||(s[4]=e=>k.switchPredictionsTab("active-tournaments")),class:"action-button secondary"},[o(C,{name:"trophy",size:18}),s[41]||(s[41]=i("span",null,"Tournois actifs",-1))])])]),i("div",Ne,[(u(!0),a(m,null,p(k.predictionsTabs,e=>(u(),a("button",{key:e.key,onClick:s=>k.switchPredictionsTab(e.key),class:d(["sub-tab",{active:k.activePredictionsTab===e.key}])},[o(C,{name:e.icon,size:18},null,8,["name"]),i("span",null,c(e.label),1)],10,Le))),128))]),"my-predictions"===k.activePredictionsTab?(u(),a("div",xe,[k.userPredictionsStats?(u(),a("div",Ve,[i("div",Re,[i("div",qe,[i("div",$e,[o(C,{name:"target",size:20})]),i("div",Ue,[i("span",Oe,c(k.userPredictionsStats.total_predictions||0),1),s[42]||(s[42]=i("span",{class:"stat-label"},"Pronostics",-1))])]),i("div",Be,[i("div",Je,[o(C,{name:"target",size:20})]),i("div",Ge,[i("span",He,c(k.userPredictionsStats.accuracy_percentage||0)+"%",1),s[43]||(s[43]=i("span",{class:"stat-label"},"Pr√©cision",-1))])]),i("div",We,[i("div",Ke,[o(C,{name:"trophy",size:20})]),i("div",Xe,[i("span",Qe,c(k.userPredictionsStats.total_points||0),1),s[44]||(s[44]=i("span",{class:"stat-label"},"Points",-1))])]),k.userPredictionsStats.current_rank?(u(),a("div",Ye,[i("div",Ze,[o(C,{name:"activity",size:20})]),i("div",es,[i("span",ss,"#"+c(k.userPredictionsStats.current_rank),1),s[45]||(s[45]=i("span",{class:"stat-label"},"Classement",-1))])])):n("",!0)])])):n("",!0),k.recentPredictions.length?(u(),a("div",ts,[i("div",as,[i("h3",is,[o(C,{name:"loading",size:18}),s[46]||(s[46]=r(" Pronostics r√©cents "))]),i("div",ns,[i("button",{onClick:s[5]||(s[5]=e=>k.predictionsFilterMini="all"),class:d(["filter-btn",{active:"all"===k.predictionsFilterMini}])}," Tous ",2),i("button",{onClick:s[6]||(s[6]=e=>k.predictionsFilterMini="pending"),class:d(["filter-btn",{active:"pending"===k.predictionsFilterMini}])}," En attente ",2),i("button",{onClick:s[7]||(s[7]=e=>k.predictionsFilterMini="calculated"),class:d(["filter-btn",{active:"calculated"===k.predictionsFilterMini}])}," Termin√©s ",2)])]),i("div",os,[(u(!0),a(m,null,p(k.getFilteredRecentPredictions(),e=>(u(),a("div",{key:e.id,class:d(["prediction-card compact",{calculated:e.is_calculated,"positive-result":e.is_calculated&&e.points_earned>0,"negative-result":e.is_calculated&&0===e.points_earned}])},[i("div",rs,[e.is_calculated?(u(),f(C,{key:0,name:e.points_earned>0?"check_circle":"cancel",size:16},null,8,["name"])):(u(),f(C,{key:1,name:"schedule",size:16,class:"pending-icon"}))]),i("div",ls,[i("div",cs,[i("span",ds,c(e.football_match.home_team.short_name||e.football_match.home_team.name),1),s[47]||(s[47]=i("span",{class:"vs"},"vs",-1)),i("span",us,c(e.football_match.away_team.short_name||e.football_match.away_team.name),1)]),i("div",ms,[i("span",ps,c(e.predicted_home_score)+" - "+c(e.predicted_away_score),1),e.is_calculated?(u(),a("span",{key:0,class:d(["points-earned",{"points-positive":e.points_earned>0}])},c(e.points_earned>0?"+":"")+c(e.points_earned)+" pt"+c(e.points_earned>1?"s":""),3)):(u(),a("span",vs,"En attente"))])]),i("div",gs,c(k.formatRelativeTime(e.created_at)),1)],2))),128))]),i("button",{onClick:s[8]||(s[8]=(...e)=>k.loadAllUserPredictions&&k.loadAllUserPredictions(...e)),class:"btn-secondary show-all-btn"},[o(C,{name:"visibility",size:18}),r(" Voir tous mes pronostics ("+c(k.userPredictionsStats.total_predictions)+") ",1)])])):n("",!0),k.userAllPredictions.length?(u(),a("div",fs,[i("div",hs,[i("h3",ys,[o(C,{name:"list",size:18}),s[48]||(s[48]=r(" Tous mes pronostics "))]),i("div",bs,[i("div",_s,[i("button",{onClick:s[9]||(s[9]=e=>k.predictionsFilter="all"),class:d(["filter-chip",{active:"all"===k.predictionsFilter}])},[o(C,{name:"check",size:16}),r(" Tous ("+c(k.userAllPredictions.length)+") ",1)],2),i("button",{onClick:s[10]||(s[10]=e=>k.predictionsFilter="pending"),class:d(["filter-chip",{active:"pending"===k.predictionsFilter}])},[o(C,{name:"schedule",size:16}),r(" En attente ("+c(k.getPredictionsCountByStatus("pending"))+") ",1)],2),i("button",{onClick:s[11]||(s[11]=e=>k.predictionsFilter="calculated"),class:d(["filter-chip",{active:"calculated"===k.predictionsFilter}])},[o(C,{name:"check_circle",size:16}),r(" Termin√©s ("+c(k.getPredictionsCountByStatus("calculated"))+") ",1)],2),i("button",{onClick:s[12]||(s[12]=e=>k.predictionsFilter="won"),class:d(["filter-chip",{active:"won"===k.predictionsFilter}])},[o(C,{name:"trophy",size:16}),r(" Gagnants ("+c(k.getPredictionsCountByStatus("won"))+") ",1)],2)])])]),i("div",ks,[(u(!0),a(m,null,p(k.groupedPredictions,e=>(u(),a("div",{key:e.date,class:"predictions-group"},[i("div",Ps,[i("span",ws,c(e.date),1),i("span",Ss,c(e.predictions.length)+" pronostic"+c(e.predictions.length>1?"s":""),1)]),i("div",zs,[(u(!0),a(m,null,p(e.predictions,e=>(u(),a("div",{key:e.id,class:d(["prediction-card detailed",{calculated:e.is_calculated,"positive-result":e.is_calculated&&e.points_earned>0,"negative-result":e.is_calculated&&0===e.points_earned}])},[i("div",Fs,[e.is_calculated?(u(),f(C,{key:0,name:e.points_earned>0?"check_circle":"cancel",size:20},null,8,["name"])):(u(),f(C,{key:1,name:"schedule",size:20,class:"pending-icon"}))]),i("div",Ts,[i("div",Cs,[i("span",Ds,c(e.football_match.home_team.name),1),s[49]||(s[49]=i("span",{class:"vs"},"vs",-1)),i("span",Es,c(e.football_match.away_team.name),1)]),i("div",As,c(k.formatTime(e.football_match.match_date)),1)]),i("div",Ms,[i("div",js,[i("div",Is,[s[50]||(s[50]=i("span",{class:"label"},"Mon pronostic",-1)),i("span",Ns,c(e.predicted_home_score)+" - "+c(e.predicted_away_score),1)]),e.football_match.is_finished?(u(),a("div",Ls,[s[51]||(s[51]=i("span",{class:"label"},"R√©sultat final",-1)),i("span",xs,c(e.football_match.home_score)+" - "+c(e.football_match.away_score),1)])):n("",!0)]),i("div",Vs,[e.is_calculated?(u(),a("span",{key:0,class:d(["points-earned",k.getPointsClass(e.points_earned)])},[o(C,{name:e.points_earned>0?"add":"remove",size:14},null,8,["name"]),r(" "+c(e.points_earned)+" point"+c(e.points_earned>1?"s":""),1)],2)):(u(),a("span",Rs,[o(C,{name:"schedule",size:14}),s[52]||(s[52]=r(" En attente du r√©sultat "))]))])])],2))),128))])]))),128))])])):n("",!0),k.recentPredictions.length||k.userAllPredictions.length?n("",!0):(u(),a("div",qs,[i("div",$s,[i("div",Us,[o(C,{name:"target",size:48})]),s[53]||(s[53]=i("div",{class:"empty-pattern"},null,-1))]),s[56]||(s[56]=i("h3",null,"Aucun pronostic pour le moment",-1)),s[57]||(s[57]=i("p",null,"Commencez √† faire des pronostics pour gagner des points et grimper dans le classement !",-1)),i("div",Os,[i("button",{onClick:s[13]||(s[13]=(...e)=>k.goToPredictions&&k.goToPredictions(...e)),class:"btn-primary"},[o(C,{name:"add",size:18}),s[54]||(s[54]=r(" Faire mon premier pronostic "))]),i("button",{onClick:s[14]||(s[14]=e=>k.switchPredictionsTab("active-tournaments")),class:"btn-secondary"},[o(C,{name:"trophy",size:18}),s[55]||(s[55]=r(" Voir les tournois "))])])]))])):n("",!0),"my-ranking"===k.activePredictionsTab?(u(),a("div",Bs,[i("div",Js,[i("h3",Gs,[o(C,{name:"activity",size:18}),s[58]||(s[58]=r(" Mon classement "))]),k.userPredictionsStats.current_rank?(u(),a("div",Hs,[i("div",{class:d(["rank-badge",k.getRankClass(k.userPredictionsStats.current_rank)])},[o(C,{name:"trophy",size:20}),i("span",Ws,"#"+c(k.userPredictionsStats.current_rank),1)],2),i("div",Ks,[i("h4",null,c((null==(T=k.authStore.user)?void 0:T.name)||"Vous"),1),i("div",Xs,[i("div",Qs,[o(C,{name:"star",size:16}),i("span",null,c(k.userPredictionsStats.total_points)+" points",1)]),i("div",Ys,[o(C,{name:"target",size:16}),i("span",null,c(k.userPredictionsStats.accuracy_percentage)+"% de r√©ussite",1)])]),k.userPredictionsStats.rank_change?(u(),a("div",{key:0,class:d(["rank-change",{positive:k.userPredictionsStats.rank_change>0,negative:k.userPredictionsStats.rank_change<0}])},[o(C,{name:k.userPredictionsStats.rank_change>0?"trending_up":"trending_down",size:16},null,8,["name"]),r(" "+c(k.userPredictionsStats.rank_change>0?"+":"")+c(k.userPredictionsStats.rank_change)+" place"+c(Math.abs(k.userPredictionsStats.rank_change)>1?"s":""),1)],2)):n("",!0)])])):n("",!0),k.userPredictionsStats.points_to_next_rank?(u(),a("div",Zs,[s[59]||(s[59]=i("h4",null,"Progression",-1)),i("div",et,[i("span",null,c(k.userPredictionsStats.points_to_next_rank)+" points pour le prochain rang",1),i("div",st,[i("div",{class:"progress-fill",style:h({width:k.getProgressPercentage()+"%"})},null,4)])])])):n("",!0),i("div",tt,[i("button",{onClick:s[15]||(s[15]=(...e)=>k.goToLeaderboard&&k.goToLeaderboard(...e)),class:"btn-primary"},[o(C,{name:"activity",size:18}),s[60]||(s[60]=r(" Voir le classement complet "))]),i("button",{onClick:s[16]||(s[16]=e=>k.switchPredictionsTab("active-tournaments")),class:"btn-secondary"},[o(C,{name:"trophy",size:18}),s[61]||(s[61]=r(" Rejoindre un tournoi "))])])])])):n("",!0),"active-tournaments"===k.activePredictionsTab?(u(),a("div",at,[i("div",it,[s[64]||(s[64]=i("h3",{class:"subsection-title"},"Tournois en cours",-1)),k.activeTournaments.length?(u(),a("div",nt,[(u(!0),a(m,null,p(k.activeTournaments,s=>(u(),a("div",{key:s.id,class:"tournament-card"},[i("div",ot,[i("h4",null,c(s.name),1),i("span",{class:d(["tournament-status",s.status])},c(k.getTournamentStatusLabel(s.status)),3)]),i("div",rt,[s.total_prize?(u(),a("div",lt,[o(C,{name:"trophy",size:16}),i("span",null,c(k.formatPrize(s.total_prize)),1)])):n("",!0),i("div",ct,[o(C,{name:"group",size:16}),i("span",null,c(s.participants_count||0)+" participant"+c((s.participants_count||0)>1?"s":""),1)])]),i("div",dt,[s.can_register&&!s.user_is_participant?(u(),a("button",{key:0,onClick:e=>k.registerToTournament(s),disabled:e.registering===s.id,class:"btn-secondary"},c(e.registering===s.id?"Inscription...":"S'inscrire"),9,ut)):n("",!0),s.user_is_participant?(u(),a("button",{key:1,onClick:e=>k.goToPredictions(s),class:"btn-primary"}," Faire mes pronostics ",8,mt)):n("",!0)])]))),128))])):(u(),a("div",pt,[i("div",vt,[o(C,{name:"trophy",size:48})]),s[62]||(s[62]=i("h4",null,"Aucun tournoi actif",-1)),s[63]||(s[63]=i("p",null,"Les nouveaux tournois appara√Ætront ici d√®s qu'ils seront disponibles.",-1))]))])])):n("",!0)])):(u(),a("div",gt,[i("div",ft,[o(C,{name:"error",size:48})]),s[65]||(s[65]=i("h3",null,"Impossible de charger vos pronostics",-1)),s[66]||(s[66]=i("p",null,"V√©rifiez votre connexion et r√©essayez.",-1)),i("button",{onClick:s[17]||(s[17]=(...e)=>k.loadPredictionsData&&k.loadPredictionsData(...e)),class:"btn-secondary"},"R√©essayer")]))])):n("",!0),"settings"===k.activeSection?(u(),a("div",ht,[i("h2",yt,c(e.$t("profile.settings")),1),i("div",bt,[i("h3",_t,c(e.$t("profile.language")),1),i("p",kt,c(e.$t("profile.languageDescription")),1),o(E)]),i("div",Pt,[i("h3",wt,c(e.$t("profile.notifications")),1),i("p",St,c(e.$t("profile.notificationsDescription")),1),o(A)]),i("div",zt,[s[70]||(s[70]=i("h3",{class:"form-title"},"Informations de l'application",-1)),i("div",Ft,[s[69]||(s[69]=i("div",{class:"info-item"},[i("span",{class:"info-label"},"Version"),i("span",{class:"info-value"},"1.0.0")],-1)),i("div",Tt,[s[68]||(s[68]=i("span",{class:"info-label"},"Derni√®re mise √† jour",-1)),i("span",Ct,c((new Date).toLocaleDateString("fr-FR")),1)])])])])):n("",!0),"account"===k.activeSection?(u(),a("div",Dt,[s[73]||(s[73]=i("h2",{class:"section-title"},"Mon Compte",-1)),i("div",Et,[s[72]||(s[72]=i("h3",{class:"form-title"},"Nom d'utilisateur",-1)),i("form",{onSubmit:s[19]||(s[19]=v((...e)=>k.updateUsername&&k.updateUsername(...e),["prevent"])),class:"update-form"},[i("div",At,[s[71]||(s[71]=i("label",{class:"form-label"},"Nouveau nom d'utilisateur",-1)),y(i("input",{"onUpdate:modelValue":s[18]||(s[18]=e=>k.usernameForm.name=e),type:"text",class:"form-input",placeholder:"Votre nom d'utilisateur",required:"",minlength:"2",maxlength:"255"},null,512),[[b,k.usernameForm.name]])]),i("div",Mt,[i("button",{type:"submit",class:"btn-primary",disabled:k.usernameForm.loading},[k.usernameForm.loading?(u(),a("span",It,"Mise √† jour...")):(u(),a("span",Nt,"Mettre √† jour"))],8,jt)]),k.usernameForm.message?(u(),a("div",{key:0,class:d(["form-message",k.usernameForm.success?"success":"error"])},c(k.usernameForm.message),3)):n("",!0)],32)])])):n("",!0),"security"===k.activeSection?(u(),a("div",Lt,[s[82]||(s[82]=i("h2",{class:"section-title"},"S√©curit√©",-1)),i("div",xt,[s[78]||(s[78]=i("h3",{class:"form-title"},"Changer le mot de passe",-1)),i("form",{onSubmit:s[23]||(s[23]=v((...e)=>k.updatePassword&&k.updatePassword(...e),["prevent"])),class:"update-form"},[i("div",Vt,[s[74]||(s[74]=i("label",{class:"form-label"},"Mot de passe actuel",-1)),y(i("input",{"onUpdate:modelValue":s[20]||(s[20]=e=>k.passwordForm.currentPassword=e),type:"password",class:"form-input",placeholder:"Votre mot de passe actuel",required:""},null,512),[[b,k.passwordForm.currentPassword]])]),i("div",Rt,[s[75]||(s[75]=i("label",{class:"form-label"},"Nouveau mot de passe",-1)),y(i("input",{"onUpdate:modelValue":s[21]||(s[21]=e=>k.passwordForm.newPassword=e),type:"password",class:"form-input",placeholder:"Votre nouveau mot de passe",required:"",minlength:"8"},null,512),[[b,k.passwordForm.newPassword]]),s[76]||(s[76]=i("small",{class:"form-hint"},"Au moins 8 caract√®res avec lettres et chiffres",-1))]),i("div",qt,[s[77]||(s[77]=i("label",{class:"form-label"},"Confirmer le nouveau mot de passe",-1)),y(i("input",{"onUpdate:modelValue":s[22]||(s[22]=e=>k.passwordForm.confirmPassword=e),type:"password",class:"form-input",placeholder:"Confirmer votre nouveau mot de passe",required:"",minlength:"8"},null,512),[[b,k.passwordForm.confirmPassword]])]),i("div",$t,[i("button",{type:"submit",class:"btn-primary",disabled:k.passwordForm.loading},[k.passwordForm.loading?(u(),a("span",Ot,"Mise √† jour...")):(u(),a("span",Bt,"Changer le mot de passe"))],8,Ut)]),k.passwordForm.message?(u(),a("div",{key:0,class:d(["form-message",k.passwordForm.success?"success":"error"])},c(k.passwordForm.message),3)):n("",!0)],32)]),i("div",Jt,[s[80]||(s[80]=i("h3",{class:"form-title"},"D√©connexion",-1)),s[81]||(s[81]=i("p",{class:"form-description"}," Vous serez d√©connect√© de votre compte sur cet appareil. Vos donn√©es seront conserv√©es. ",-1)),i("button",{onClick:s[24]||(s[24]=(...e)=>k.handleLogout&&k.handleLogout(...e)),class:"btn-logout-main"},[o(C,{name:"logout",size:18}),s[79]||(s[79]=i("span",null,"Se d√©connecter",-1))])])])):n("",!0),"legal"===k.activeSection?(u(),a("div",Gt,[s[91]||(s[91]=i("h2",{class:"section-title"},"L√©gal & Confidentialit√©",-1)),i("div",Ht,[s[86]||(s[86]=i("h3",{class:"form-title"},"Conditions d'utilisation",-1)),i("div",Wt,[i("a",Kt,[o(C,{name:"edit",size:18}),s[83]||(s[83]=i("span",null,"Conditions g√©n√©rales d'utilisation",-1)),o(C,{name:"chevron_right",size:18})]),i("a",Xt,[o(C,{name:"security",size:18}),s[84]||(s[84]=i("span",null,"Politique de confidentialit√©",-1)),o(C,{name:"chevron_right",size:18})]),i("a",Qt,[o(C,{name:"settings",size:18}),s[85]||(s[85]=i("span",null,"Politique des cookies",-1)),o(C,{name:"chevron_right",size:18})])])]),i("div",Yt,[s[89]||(s[89]=i("h3",{class:"form-title danger-title"},"Suppression des donn√©es",-1)),s[90]||(s[90]=i("p",{class:"danger-description"}," Vous pouvez demander la suppression de toutes vos donn√©es personnelles conform√©ment au RGPD. Cette action est irr√©versible. ",-1)),i("form",{onSubmit:s[27]||(s[27]=v((...e)=>k.requestDataDeletion&&k.requestDataDeletion(...e),["prevent"])),class:"update-form"},[i("div",Zt,[s[87]||(s[87]=i("label",{class:"form-label"},"Raison de la suppression (optionnel)",-1)),y(i("textarea",{"onUpdate:modelValue":s[25]||(s[25]=e=>k.deletionForm.reason=e),class:"form-textarea",placeholder:"Expliquez pourquoi vous souhaitez supprimer vos donn√©es...",rows:"3",maxlength:"500"},null,512),[[b,k.deletionForm.reason]])]),i("div",ea,[i("label",sa,[y(i("input",{"onUpdate:modelValue":s[26]||(s[26]=e=>k.deletionForm.confirm=e),type:"checkbox",required:""},null,512),[[_,k.deletionForm.confirm]]),s[88]||(s[88]=r(" Je confirme vouloir supprimer d√©finitivement toutes mes donn√©es "))])]),i("div",ta,[i("button",{type:"submit",class:"btn-danger",disabled:k.deletionForm.loading||!k.deletionForm.confirm},[k.deletionForm.loading?(u(),a("span",ia,"Demande en cours...")):(u(),a("span",na,"Demander la suppression"))],8,aa)]),k.deletionForm.message?(u(),a("div",{key:0,class:d(["form-message",k.deletionForm.success?"success":"error"])},c(k.deletionForm.message),3)):n("",!0)],32)])])):n("",!0)])])):(u(),a("div",N,[i("div",L,[o(C,{name:"person",size:48})]),s[30]||(s[30]=i("h2",{class:"md3-title-large"},"Profil utilisateur",-1)),s[31]||(s[31]=i("p",{class:"md3-body-large"},"Connectez-vous pour voir votre profil et vos favoris",-1)),i("button",{onClick:s[0]||(s[0]=e=>k.showAuthModal=!0),class:"btn-primary"}," Se connecter ")])),o(M,{modelValue:k.showAuthModal,"onUpdate:modelValue":s[28]||(s[28]=e=>k.showAuthModal=e)},null,8,["modelValue"])])}],["__scopeId","data-v-f306b094"]]);export{oa as default};
